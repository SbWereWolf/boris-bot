# boris-bot

Тестовое задание

## Логика и термины

- `Survey` (hasMany `Question`)
- `Question` (belongsTo `Survey`, hasMany `Answer`)
- `Answer` (belongsTo `Question`)

Респондент (`Respondent`) в чате проходит опрос (`Survey`), отвечая на
его вопросы (Question). Каждый вопрос или ответ содержит поле
`next_question_id` - это `id` следующего вопроса (`nullable`).

Каждый ответ респондента (`Answer`) методом POST приходит на
контроллер (`WebhookController@input`). В теле ответа содержится `id`
ответа (`Answer`). Надо учитывать что `next_question_id` может не быть
в `Answer`, тогда надо его получить из модели вопроса ответа.

Цель: На основе вновь полученного (с вебхука) ответа (`Answer`)
рассчитывать следующий вопрос (`Question`) и отправлять его в чат
респонденту.

## Задача

На свежеустановленном Laravel, на уровне идеи описать примерную
архитектуру для вышеописанной логики.

Проверяться будет архитектура, паттерны проектирования, стиль кода.

Работоспособность проверяться не будет.

А еще важно правильно понять Тз красным подчеркнуты важные моменты.

### Ответы на часто задаваемые вопросы

Вопрос: `Некст квешен может быть только в вопросе или только в ответе ?`

Ответ: `Может быть и там и там приоритет у ответа`
